{
    "suites": {
        "SitePackage": {
            "screenshots": {
                "_default": [
                    {
                        "action": "setScreenshotsImagePath",
                        "path": "Images/AutomaticScreenshots"
                    },
                    {
                        "action": "setScreenshotsRstPath",
                        "path": "Images/AutomaticScreenshots"
                    },
                    {"action": "resizeWindow", "width": 1024, "height": 768}
                ],
                "pageScreenshots": [
                    {"include": "_default"},
                    {"action": "amOnPage", "page": "/typo3/record/edit?edit[pages][0]=new&id=0&table=&pointer=1&token=x"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"title\"]",
                        "value": "example.com"
                    },
                    { "action": "click", "link": "Save"},
                    {"action": "waitForText", "text": "Edit Page"},
                    {"action": "amOnPage", "page": "/typo3/record/edit?edit[pages][1]=new&returnNewPageId=1&id=0&table=&pointer=1&token=x"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"title\"]",
                        "value": "Page 1"
                    },
                    { "action": "click", "link": "Save"},
                    {"action": "waitForText", "text": "Edit Page"},
                    {"action": "amOnPage", "page": "/typo3/record/edit?edit[pages][-2]=new&returnNewPageId=1&id=0&table=&pointer=1&token=x"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"title\"]",
                        "value": "Page 2"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "waitForText", "text": "Edit Page"},
                    {"action": "reloadBackend"},
                    {"action": "switchToMainFrame"},
                    {"action": "see", "text": "Page"},
                    {"action": "click", "link": "Page"},
                    {"action": "openPageTreePath", "path": ["example.com"]},
                    {"action": "resizeWindow", "width": 1024, "height": 340},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "CreateInitialPages",
                        "captionText": "Create initial pages"
                    },
                    {"action": "resizeWindow", "width": 1024, "height": 640},
                    {"action": "amOnPage", "page": "/typo3/record/edit?edit[pages][-3]=new&returnNewPageId=1&id=0&table=&pointer=1&token=x"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"title\"]",
                        "value": "Page 3"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "waitForText", "text": "Edit Page"},
                    {"action": "reloadBackend"},
                    {"action": "see", "text": "Page"},
                    {"action": "click", "link": "Page"},
                    {"action": "openPageTreePath", "path": ["example.com"]},
                    {"action": "clickWithRightButton", "cssOrXPath": "//*[@id='typo3-pagetree-treeContainer']//*[text()='example.com']/.."},
                    {"action": "waitForElement", "element": "#contentMenu0"},
                    {"action": "click", "link": "//*[@id='contentMenu0']//*[contains(text(), 'Enable')]"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "EnablePagesInContextMenu",
                        "captionText": "Enable pages in context menu"
                    },
                    {"action": "see", "text": "List"},
                    {"action": "click", "link": "List"},
                    {"action": "switchToContentFrame"},
                    {"action": "waitForText", "text": "Page"},
                    {"action": "click", "link": "//button[@title='Un-hide page']"},
                    {"action": "wait", "timeout": "0.1"},
                    {"action": "click", "link": "//button[@title='Un-hide page']"},
                    {"action": "wait", "timeout": "0.1"},
                    {"action": "click", "link": "//button[@title='Un-hide page']"},
                    {"action": "wait", "timeout": "0.1"},
                    {"action": "switchToMainFrame"},
                    {"action": "see", "text": "Page"},
                    {"action": "click", "link": "Page"},
                    {"action": "switchToContentFrame"},
                    {"action": "waitForText", "text": "Content"},
                    {"action": "resizeWindow", "width": 1024, "height": 340},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "FinalPageTree"
                    },
                    {"action": "resizeWindow", "width": 1024, "height": 640},
                    {"action": "switchToMainFrame"},
                    {"action": "see", "text": "Template"},
                    {"action": "click", "link": "Template"},
                    {"action": "switchToContentFrame"},
                    {"action": "click", "link": "Create template for a new site"},
                    {"action": "see", "text": "Template tools"},
                    {"action": "selectOption", "select": "select.t3-js-jumpMenuBox", "option": "Info/Modify"},
                    {"action": "drawBox", "selector": "//a[contains(text(), 'Edit the whole template record')]"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "EditTemplateRecord",
                        "captionText": "Edit the whole template record"
                    },
                    {"action": "clearDrawings"},
                    {"action": "click", "link": "//a[contains(text(), 'Edit the whole template record')]"},
                    {"action": "waitForText", "text": "Edit Template"},
                    {"action": "switchToMainFrame"},
                    {"action": "click", "link": "button.scaffold-content-navigation-switcher-close"},
                    {"action": "switchToContentFrame"},
                    {
                        "action": "clearField",
                        "field": "textarea[name*=\"config\"]"
                    },
                    {
                        "action": "scrollModuleBodyToTop"
                    },
                    {"action": "click", "link": "Includes"},
                    {"action": "waitForText", "text": "Include static"},
                    {
                        "action": "selectOption",
                        "select": "select[data-relatedfieldname*=\"include_static_file\"]",
                        "option": "Site Package"
                    },
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "IncludeTypoScriptTemplate",
                        "captionText": "Include the site package TypoScript template"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "switchToMainFrame"},
                    {"action": "see", "text": "Page"},
                    {"action": "click", "link": "Page"},
                    {"action": "click", "link": "button.scaffold-content-navigation-switcher-close"},
                    {"action": "switchToContentFrame"},
                    {"action": "click", "link": "Edit page properties"},
                    {"action": "click", "link": "Resources"},
                    {
                        "action": "selectOption",
                        "select": "select[data-relatedfieldname*=\"tsconfig_includes\"]",
                        "option": "Site Package"
                    },
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "IncludeTsConfig",
                        "captionText": "Include the site package page TsConfig"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "wait", "timeout": "1"},
                    {"action": "click", "link": "Appearance"},
                    {"action": "selectOption", "select": "select[name*=\"backend_layout\"]", "option": "pagets__Default"},
                    {"action": "selectOption", "select": "select[name*=\"backend_layout_next_level\"]", "option": "pagets__Default"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "ChooseBackendLayout",
                        "captionText": "Choose the backend layout"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "wait", "timeout": "1"},
                    {"action": "switchToMainFrame"},
                    {"action": "click", "link": "button.scaffold-content-navigation-switcher-open"},
                    {"action": "see", "text": "Sites"},
                    {"action": "click", "link": "Sites"},
                    {"action": "switchToContentFrame"},
                    {"action": "waitForText", "text": "Site Configuration"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "CreateSiteConfig1",
                        "captionText": "Create the site configuration"
                    },
                    {"action": "resizeWindow", "width": 1230, "height": 640},
                    {"action": "click", "link": "Edit"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"identifier\"]",
                        "value": "example_com"
                    },
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"base\"]",
                        "value": "https://example.ddev.site/"
                    },
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"websiteTitle\"]",
                        "value": "My Example Page"
                    },
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "CreateSiteConfig2",
                        "captionText": "Create the site configuration"
                    },
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"base\"]",
                        "value": "http://web/"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "wait", "timeout": "1"},
                    {"action": "reloadBackend"},
                    {"action": "switchToMainFrame"},
                    {"action": "see", "text": "View"},
                    {"action": "click", "link": "View"},
                    {"action": "wait", "timeout": "1"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "ExtensionInstallationPreviewPage"
                    },
                    {"action": "see", "text": "Page"},
                    {"action": "click", "link": "Page"},
                    {"action": "switchToContentFrame"},
                    {"action": "wait", "timeout": "1"},
                    {"action": "drawBox", "selector":  "div[id*=\"colpos-0\"]"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "CreateNewContentElement",
                        "captionText": "Create new content element"
                    },
                    {"action": "amOnPage", "page": "/typo3/record/edit?edit[tt_content][1]=new&defVals[tt_content][colPos]=0&defVals[tt_content][sys_language_uid]=0&defVals[tt_content][CType]=text&token=x"},
                    {"action": "waitForText", "text": "Create new"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"header\"]",
                        "value": "Lorem Ipsum dolor"
                    },

                    {"action": "drawBox", "selector":  "button[name*=\"_savedok\"]"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "FillNewContentElement",
                        "captionText": "Fill some content in the new content element"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "waitForText", "text": "Edit"},
                    {"action": "amOnPage", "page": "/typo3/record/edit?edit[tt_content][1]=new&defVals[tt_content][colPos]=1&defVals[tt_content][sys_language_uid]=0&defVals[tt_content][CType]=text&token=x"},
                    {"action": "waitForText", "text": "Create new"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"header\"]",
                        "value": "My Jumbotron"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "waitForText", "text": "Edit"},
                    {"action": "amOnPage", "page":  "/typo3/module/web/layout?id=1"},
                    {"action": "switchToContentFrame"},
                    {"action": "waitForText", "text": "Content"},
                    {"action": "wait", "timeout": "0.5"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "FilledColumns",
                        "captionText": "The columns with their Content"
                    },
                    {"action": "resizeWindow", "width": 1024, "height": 340},
                    {"action": "reloadBackend"},
                    {"action": "switchToMainFrame"},
                    {"action": "click", "link": "#typo3-cms-backend-backend-toolbaritems-clearcachetoolbaritem a"},
                    {"action": "drawBox", "selector":  ".dropdown-table-row:first-child"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "FlushFrontendCaches",
                        "captionText": "Flush the frontend cache after changing template files"
                    },
                    {"action": "clearDrawings"},
                    {"action": "drawBox", "selector":  ".dropdown-table-row:last-child"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "FlushAllCaches",
                        "captionText": "Flush all caches"
                    },
                    {"action": "clearDrawings"},
                    {"action": "resizeWindow", "width": 1024, "height": 640},
                    {"action": "switchToMainFrame"},
                    {"action": "see", "text": "Sites"},
                    {"action": "click", "link": "Sites"},
                    {"action": "switchToContentFrame"},
                    {"action": "waitForText", "text": "Site"},
                    {"action": "amOnPage", "page": "/?id=1"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "ContentMappingPreviewPage",
                        "captionText": "Preview the page"
                    },
                    {"action": "reloadBackend"},
                    {"action": "see", "text": "Page"},
                    {"action": "click", "link": "Page"},
                    {"action": "click", "link": "button.scaffold-content-navigation-switcher-close"},
                    {"action": "switchToContentFrame"},
                    {"action": "click", "link": "Edit page properties"},
                    {"action": "click", "link": "Appearance"},
                    {"action": "selectOption", "select": "select[name*=\"backend_layout\"]", "option": "pagets__TwoColumns"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "SwitchBackendLayout",
                        "captionText": "Switch to the Backend Layout \"Two Columns\""
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "wait", "timeout": "1"},
                    {"action": "click", "link": "Close"},
                    {"action": "amOnPage", "page": "/typo3/record/edit?edit[tt_content][1]=new&defVals[tt_content][colPos]=2&defVals[tt_content][sys_language_uid]=0&defVals[tt_content][CType]=menu_subpages&token=x"},
                    {"action": "waitForText", "text": "Create new"},
                    {
                        "action": "fillField",
                        "field": "input[data-formengine-input-name*=\"header\"]",
                        "value": "My Sidebar menu"
                    },
                    {"action": "click", "link": "Save"},
                    {"action": "waitForText", "text": "Edit"},
                    {"action":  "reloadBackend"},
                    {"action": "switchToMainFrame"},
                    {"action": "click", "link": "Page"},
                    {"action": "switchToContentFrame"},
                    {"action": "waitForText", "text": "Sidebar"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "BackendLayoutTwoColumns",
                        "captionText": "A new column \"Sidebar\" appears"
                    },
                    {"action": "amOnPage", "page": "/?id=1"},
                    {
                        "action": "makeScreenshotOfElement",
                        "fileName": "TwoColumnsPreviewPage",
                        "captionText": "The sidebar appears in the frontend"
                    }
                ]
            }
        }
    }
}